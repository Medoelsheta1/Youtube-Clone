{"ast":null,"code":"import _slicedToArray from\"D:/HTML_projects/React/youtube/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{useEffect,useState}from'react';import ReactPlayer from'react-player';import{useNavigate,useParams}from'react-router-dom';import FetchFromApi from'./Fetching/FetchFromApi';import classes from'./VidioDetails.module.css';import VerifiedIcon from'@mui/icons-material/Verified';import Vidios from'./Vidios/Vidios';import{useDispatch,useSelector}from'react-redux';import{SubscribeActions}from'./RTK/Slices/Subscribtion';import Comments from'./Comments';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function VidioDetails(){var navigate=useNavigate();var state=useSelector(function(state){return state.Subscibe;});var _useParams=useParams(),id=_useParams.id;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),vidioDetails=_useState2[0],setVidioDetails=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),RelatedVidios=_useState4[0],setRelatedVidios=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),RelatedComments=_useState6[0],setRelatedComments=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),showMore=_useState8[0],setShowMore=_useState8[1];var isSubscribe=false;var dispatch=useDispatch();useEffect(function(){FetchFromApi(\"videos?part=contentDetails%2Csnippet%2Cstatistics&id=\".concat(id)).then(function(data){setVidioDetails(data.data.items[0]);});FetchFromApi(\"search?relatedToVideoId=\".concat(id,\"&part=id%2Csnippet&type=video&maxResults=20\")).then(function(data){setRelatedVidios(data.data.items);});FetchFromApi(\"commentThreads?part=snippet&videoId=\".concat(id,\"&maxResults=20\")).then(function(data){setRelatedComments(data.data.items);});},[id]);var navigateToChannel=function navigateToChannel(){navigate(\"/channel/\".concat(vidioDetails.snippet.channelId));};if(!vidioDetails){return'Loading';}if(state.find(function(element){return element.name===vidioDetails.snippet.channelTitle;})){isSubscribe=false;}else{isSubscribe=true;}var showMoreHandler=function showMoreHandler(){setShowMore(!showMore);};var AddChannelHandler=function AddChannelHandler(){dispatch(SubscribeActions.ADD({name:vidioDetails.snippet.channelTitle,channelId:vidioDetails.snippet.channelId,channel:true}));};return/*#__PURE__*/_jsxs(\"div\",{className:classes.VidioContent,children:[vidioDetails&&/*#__PURE__*/_jsxs(\"div\",{className:classes.Content,children:[/*#__PURE__*/_jsx(\"div\",{className:classes.vidio,children:/*#__PURE__*/_jsx(ReactPlayer,{url:\"https://www.youtube.com/watch?v=\".concat(id),width:\"100%\",height:\"100%\",controls:true})}),/*#__PURE__*/_jsxs(\"div\",{className:classes['vidio-details'],children:[/*#__PURE__*/_jsx(\"h2\",{children:vidioDetails.snippet.title}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{onClick:navigateToChannel,children:[vidioDetails.snippet.channelTitle,/*#__PURE__*/_jsx(VerifiedIcon,{})]}),/*#__PURE__*/_jsx(\"button\",{disabled:!isSubscribe,onClick:AddChannelHandler,className:classes.button,children:\"Subscribe\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.statics,children:[/*#__PURE__*/_jsxs(\"span\",{children:[vidioDetails.statistics.viewCount,\"\\xA0 Views \"]}),\"\\xA0 \\xA0\",/*#__PURE__*/_jsxs(\"span\",{children:[vidioDetails.statistics.likeCount,\" \\xA0Likes \"]})]}),/*#__PURE__*/_jsx(\"div\",{className:classes.description,children:/*#__PURE__*/_jsxs(\"p\",{className:showMore&&classes.more,children:[vidioDetails.snippet.description,\" \",showMore?/*#__PURE__*/_jsx(\"button\",{onClick:showMoreHandler,children:\"Show less\"}):/*#__PURE__*/_jsx(\"button\",{onClick:showMoreHandler,children:\"Show more\"}),\" \"]})}),RelatedComments&&/*#__PURE__*/_jsx(Comments,{comments:RelatedComments.slice(0,10),count:vidioDetails.statistics.commentCount})]}),/*#__PURE__*/_jsx(\"div\",{className:classes.playlist,children:RelatedVidios.length>1&&/*#__PURE__*/_jsx(Vidios,{Vidios:RelatedVidios})})]});}export default VidioDetails;","map":{"version":3,"names":["React","useEffect","useState","ReactPlayer","useNavigate","useParams","FetchFromApi","classes","VerifiedIcon","Vidios","useDispatch","useSelector","SubscribeActions","Comments","jsx","_jsx","jsxs","_jsxs","VidioDetails","navigate","state","Subscibe","_useParams","id","_useState","_useState2","_slicedToArray","vidioDetails","setVidioDetails","_useState3","_useState4","RelatedVidios","setRelatedVidios","_useState5","_useState6","RelatedComments","setRelatedComments","_useState7","_useState8","showMore","setShowMore","isSubscribe","dispatch","concat","then","data","items","navigateToChannel","snippet","channelId","find","element","name","channelTitle","showMoreHandler","AddChannelHandler","ADD","channel","className","VidioContent","children","Content","vidio","url","width","height","controls","title","onClick","disabled","button","statics","statistics","viewCount","likeCount","description","more","comments","slice","count","commentCount","playlist","length"],"sources":["D:/HTML_projects/React/youtube/src/Components/VidioDetails.jsx"],"sourcesContent":["import React from 'react'\r\nimport { useEffect , useState } from 'react'\r\nimport ReactPlayer from 'react-player'\r\nimport { useNavigate, useParams } from 'react-router-dom'\r\nimport FetchFromApi from './Fetching/FetchFromApi'\r\nimport classes from './VidioDetails.module.css'\r\nimport VerifiedIcon from '@mui/icons-material/Verified';\r\nimport Vidios from './Vidios/Vidios'\r\nimport { useDispatch , useSelector  } from 'react-redux'\r\nimport {SubscribeActions} from './RTK/Slices/Subscribtion'\r\nimport Comments from './Comments'\r\nfunction VidioDetails() {\r\n    const navigate = useNavigate()\r\n    const state = useSelector(state => state.Subscibe)\r\n    const {id} = useParams()\r\n    const [vidioDetails , setVidioDetails] = useState(null)\r\n    const [RelatedVidios , setRelatedVidios] = useState([])\r\n    const [RelatedComments , setRelatedComments] = useState([])\r\n    const [showMore , setShowMore] = useState(false)\r\n    let isSubscribe = false\r\n    const dispatch = useDispatch()\r\n    useEffect(()=>{\r\n        FetchFromApi(`videos?part=contentDetails%2Csnippet%2Cstatistics&id=${id}`).then((data)=>{\r\n            setVidioDetails(data.data.items[0])\r\n        })\r\n        FetchFromApi(`search?relatedToVideoId=${id}&part=id%2Csnippet&type=video&maxResults=20`).then((data)=>{\r\n            setRelatedVidios(data.data.items)\r\n        })\r\n        FetchFromApi(`commentThreads?part=snippet&videoId=${id}&maxResults=20`).then((data)=>{\r\n            setRelatedComments(data.data.items)\r\n        })  \r\n    }, [id])\r\n    const navigateToChannel = () => {\r\n        navigate(`/channel/${vidioDetails.snippet.channelId}`)\r\n    }\r\n    if (!vidioDetails) { \r\n        return 'Loading'\r\n    }\r\n    if (state.find((element) => element.name ===  vidioDetails.snippet.channelTitle)) {\r\n        isSubscribe = false\r\n    }else {\r\n        isSubscribe = true\r\n    }\r\n    const showMoreHandler = () => {\r\n        setShowMore(!showMore)\r\n    }\r\n    const AddChannelHandler = () => {\r\n        dispatch(SubscribeActions.ADD({\r\n            name: vidioDetails.snippet.channelTitle ,\r\n            channelId:  vidioDetails.snippet.channelId,\r\n            channel: true\r\n        }))\r\n    }\r\n    return (\r\n        <div className={classes.VidioContent}>\r\n            {vidioDetails && <div className={classes.Content}  >\r\n                <div className={classes.vidio}>\r\n                    <ReactPlayer \r\n                    url={`https://www.youtube.com/watch?v=${id}`}\r\n                    width=\"100%\"\r\n                    height=\"100%\" controls    />                    \r\n                </div>\r\n\r\n                <div className={classes['vidio-details']}>\r\n                    <h2>{vidioDetails.snippet.title}</h2>\r\n                    <div>\r\n                        <p  onClick={navigateToChannel} >{vidioDetails.snippet.channelTitle}<VerifiedIcon /></p>\r\n                        <button disabled={!isSubscribe}  onClick={AddChannelHandler} className={classes.button}>Subscribe</button>\r\n                    </div>\r\n                </div>\r\n                \r\n                    <div className={classes.statics}>\r\n                        <span>{vidioDetails.statistics.viewCount}&nbsp; Views </span>&nbsp; &nbsp;\r\n                        <span>{vidioDetails.statistics.likeCount} &nbsp;Likes </span>\r\n                    </div>   \r\n                    <div className={classes.description}>\r\n                        <p className={showMore && classes.more}>{vidioDetails.snippet.description} {showMore ? <button onClick={showMoreHandler}>Show less</button> : <button onClick={showMoreHandler}>Show more</button>} </p>\r\n                    </div>\r\n                    {RelatedComments && <Comments comments={RelatedComments.slice(0 , 10)} count={vidioDetails.statistics.commentCount} />}\r\n                    \r\n            </div> }\r\n            <div className={classes.playlist}>\r\n                { RelatedVidios.length > 1 && <Vidios Vidios={RelatedVidios} />                   \r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default VidioDetails"],"mappings":"oHAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,SAAS,CAAGC,QAAQ,KAAQ,OAAO,CAC5C,MAAO,CAAAC,WAAW,KAAM,cAAc,CACtC,OAASC,WAAW,CAAEC,SAAS,KAAQ,kBAAkB,CACzD,MAAO,CAAAC,YAAY,KAAM,yBAAyB,CAClD,MAAO,CAAAC,OAAO,KAAM,2BAA2B,CAC/C,MAAO,CAAAC,YAAY,KAAM,8BAA8B,CACvD,MAAO,CAAAC,MAAM,KAAM,iBAAiB,CACpC,OAASC,WAAW,CAAGC,WAAW,KAAS,aAAa,CACxD,OAAQC,gBAAgB,KAAO,2BAA2B,CAC1D,MAAO,CAAAC,QAAQ,KAAM,YAAY,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBACjC,QAAS,CAAAC,YAAYA,CAAA,CAAG,CACpB,GAAM,CAAAC,QAAQ,CAAGf,WAAW,EAAE,CAC9B,GAAM,CAAAgB,KAAK,CAAGT,WAAW,CAAC,SAAAS,KAAK,QAAI,CAAAA,KAAK,CAACC,QAAQ,GAAC,CAClD,IAAAC,UAAA,CAAajB,SAAS,EAAE,CAAjBkB,EAAE,CAAAD,UAAA,CAAFC,EAAE,CACT,IAAAC,SAAA,CAAyCtB,QAAQ,CAAC,IAAI,CAAC,CAAAuB,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAhDG,YAAY,CAAAF,UAAA,IAAGG,eAAe,CAAAH,UAAA,IACrC,IAAAI,UAAA,CAA2C3B,QAAQ,CAAC,EAAE,CAAC,CAAA4B,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAAhDE,aAAa,CAAAD,UAAA,IAAGE,gBAAgB,CAAAF,UAAA,IACvC,IAAAG,UAAA,CAA+C/B,QAAQ,CAAC,EAAE,CAAC,CAAAgC,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAApDE,eAAe,CAAAD,UAAA,IAAGE,kBAAkB,CAAAF,UAAA,IAC3C,IAAAG,UAAA,CAAiCnC,QAAQ,CAAC,KAAK,CAAC,CAAAoC,UAAA,CAAAZ,cAAA,CAAAW,UAAA,IAAzCE,QAAQ,CAAAD,UAAA,IAAGE,WAAW,CAAAF,UAAA,IAC7B,GAAI,CAAAG,WAAW,CAAG,KAAK,CACvB,GAAM,CAAAC,QAAQ,CAAGhC,WAAW,EAAE,CAC9BT,SAAS,CAAC,UAAI,CACVK,YAAY,yDAAAqC,MAAA,CAAyDpB,EAAE,EAAG,CAACqB,IAAI,CAAC,SAACC,IAAI,CAAG,CACpFjB,eAAe,CAACiB,IAAI,CAACA,IAAI,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC,CACvC,CAAC,CAAC,CACFxC,YAAY,4BAAAqC,MAAA,CAA4BpB,EAAE,gDAA8C,CAACqB,IAAI,CAAC,SAACC,IAAI,CAAG,CAClGb,gBAAgB,CAACa,IAAI,CAACA,IAAI,CAACC,KAAK,CAAC,CACrC,CAAC,CAAC,CACFxC,YAAY,wCAAAqC,MAAA,CAAwCpB,EAAE,mBAAiB,CAACqB,IAAI,CAAC,SAACC,IAAI,CAAG,CACjFT,kBAAkB,CAACS,IAAI,CAACA,IAAI,CAACC,KAAK,CAAC,CACvC,CAAC,CAAC,CACN,CAAC,CAAE,CAACvB,EAAE,CAAC,CAAC,CACR,GAAM,CAAAwB,iBAAiB,CAAG,QAApB,CAAAA,iBAAiBA,CAAA,CAAS,CAC5B5B,QAAQ,aAAAwB,MAAA,CAAahB,YAAY,CAACqB,OAAO,CAACC,SAAS,EAAG,CAC1D,CAAC,CACD,GAAI,CAACtB,YAAY,CAAE,CACf,MAAO,SAAS,CACpB,CACA,GAAIP,KAAK,CAAC8B,IAAI,CAAC,SAACC,OAAO,QAAK,CAAAA,OAAO,CAACC,IAAI,GAAMzB,YAAY,CAACqB,OAAO,CAACK,YAAY,GAAC,CAAE,CAC9EZ,WAAW,CAAG,KAAK,CACvB,CAAC,IAAK,CACFA,WAAW,CAAG,IAAI,CACtB,CACA,GAAM,CAAAa,eAAe,CAAG,QAAlB,CAAAA,eAAeA,CAAA,CAAS,CAC1Bd,WAAW,CAAC,CAACD,QAAQ,CAAC,CAC1B,CAAC,CACD,GAAM,CAAAgB,iBAAiB,CAAG,QAApB,CAAAA,iBAAiBA,CAAA,CAAS,CAC5Bb,QAAQ,CAAC9B,gBAAgB,CAAC4C,GAAG,CAAC,CAC1BJ,IAAI,CAAEzB,YAAY,CAACqB,OAAO,CAACK,YAAY,CACvCJ,SAAS,CAAGtB,YAAY,CAACqB,OAAO,CAACC,SAAS,CAC1CQ,OAAO,CAAE,IACb,CAAC,CAAC,CAAC,CACP,CAAC,CACD,mBACIxC,KAAA,QAAKyC,SAAS,CAAEnD,OAAO,CAACoD,YAAa,CAAAC,QAAA,EAChCjC,YAAY,eAAIV,KAAA,QAAKyC,SAAS,CAAEnD,OAAO,CAACsD,OAAQ,CAAAD,QAAA,eAC7C7C,IAAA,QAAK2C,SAAS,CAAEnD,OAAO,CAACuD,KAAM,CAAAF,QAAA,cAC1B7C,IAAA,CAACZ,WAAW,EACZ4D,GAAG,oCAAApB,MAAA,CAAqCpB,EAAE,CAAG,CAC7CyC,KAAK,CAAC,MAAM,CACZC,MAAM,CAAC,MAAM,CAACC,QAAQ,OAAM,EAC1B,cAENjD,KAAA,QAAKyC,SAAS,CAAEnD,OAAO,CAAC,eAAe,CAAE,CAAAqD,QAAA,eACrC7C,IAAA,OAAA6C,QAAA,CAAKjC,YAAY,CAACqB,OAAO,CAACmB,KAAK,EAAM,cACrClD,KAAA,QAAA2C,QAAA,eACI3C,KAAA,MAAImD,OAAO,CAAErB,iBAAkB,CAAAa,QAAA,EAAGjC,YAAY,CAACqB,OAAO,CAACK,YAAY,cAACtC,IAAA,CAACP,YAAY,IAAG,GAAI,cACxFO,IAAA,WAAQsD,QAAQ,CAAE,CAAC5B,WAAY,CAAE2B,OAAO,CAAEb,iBAAkB,CAACG,SAAS,CAAEnD,OAAO,CAAC+D,MAAO,CAAAV,QAAA,CAAC,WAAS,EAAS,GACxG,GACJ,cAEF3C,KAAA,QAAKyC,SAAS,CAAEnD,OAAO,CAACgE,OAAQ,CAAAX,QAAA,eAC5B3C,KAAA,SAAA2C,QAAA,EAAOjC,YAAY,CAAC6C,UAAU,CAACC,SAAS,CAAC,aAAa,GAAO,YAC7D,cAAAxD,KAAA,SAAA2C,QAAA,EAAOjC,YAAY,CAAC6C,UAAU,CAACE,SAAS,CAAC,aAAa,GAAO,GAC3D,cACN3D,IAAA,QAAK2C,SAAS,CAAEnD,OAAO,CAACoE,WAAY,CAAAf,QAAA,cAChC3C,KAAA,MAAGyC,SAAS,CAAEnB,QAAQ,EAAIhC,OAAO,CAACqE,IAAK,CAAAhB,QAAA,EAAEjC,YAAY,CAACqB,OAAO,CAAC2B,WAAW,CAAC,GAAC,CAACpC,QAAQ,cAAGxB,IAAA,WAAQqD,OAAO,CAAEd,eAAgB,CAAAM,QAAA,CAAC,WAAS,EAAS,cAAG7C,IAAA,WAAQqD,OAAO,CAAEd,eAAgB,CAAAM,QAAA,CAAC,WAAS,EAAS,CAAC,GAAC,GAAI,EACtM,CACLzB,eAAe,eAAIpB,IAAA,CAACF,QAAQ,EAACgE,QAAQ,CAAE1C,eAAe,CAAC2C,KAAK,CAAC,CAAC,CAAG,EAAE,CAAE,CAACC,KAAK,CAAEpD,YAAY,CAAC6C,UAAU,CAACQ,YAAa,EAAG,GAExH,cACNjE,IAAA,QAAK2C,SAAS,CAAEnD,OAAO,CAAC0E,QAAS,CAAArB,QAAA,CAC3B7B,aAAa,CAACmD,MAAM,CAAG,CAAC,eAAInE,IAAA,CAACN,MAAM,EAACA,MAAM,CAAEsB,aAAc,EAAG,EAE7D,GACJ,CAEd,CACA,cAAe,CAAAb,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}